$(function(){$("#arrangement-form").on("submit",function(){var a=[];$("#arrangementSelected li").each(function(b,c){a.push($(this).data("id"))}),$("#arrangementProduct").val(a.toString())});var a=$(".support-config");a.length>0&&(a.sortable(),$(".add-support").on("click",function(){var b=a.find("li"),c=b.length;a.append('<li class="contact contact-item-'+c+'" data-index="'+c+'" draggable="true"><div class="row"><div class="form-group columns small-6"><label class="control-label">Type</label><select class="form-control" name="Support['+c+'][type]"><option value="yahoo" selected="">Yahoo</option><option value="skype">Skype</option></select></div><div class="form-group columns small-6"><label class="control-label">Name</label><input type="text" class="form-control" name="Support['+c+'][name]"></div><div class="form-group columns small-6"><label class="control-label">Nickname</label><input type="text" class="form-control" name="Support['+c+'][nickname]"></div><div class="form-group columns small-5"><label class="control-label">Phone</label><input type="text" class="form-control" name="Support['+c+'][phone]"></div><div class="form-group columns small-1"><a class="remove-suport">x</a></div></div></li>'),a.sortable("destroy"),a.sortable()}),a.on("click",".remove-suport",function(){$(this).parents(".contact").remove()}))}),$(function(){var a=$(".action-buttons");a.on("click","button",function(){a.children("input").val($(this).data("submit"))})}),$(function(){$(".connected").sortable({connectWith:".connected"}),$("#action-form").on("submit",function(){var a="";$(".related .connected li").each(function(b,c){b>0&&(a+=","),a+=$(this).data("id")}),$("#relatedProduct").val(a);var b=$('input[name="Product[image_id]"]');if(b.length>0){var c=!0;b.each(function(){return $(this).prop("checked")?void(c=!1):void 0}),c&&$(b.get(0)).prop("checked","checked")}})}),function(a){function b(b,c){a(b).change(function(){var b=a(this).val();return b?(a(c).find("a:not(:Contains("+b+"))").parent().slideUp(),a(c).find("a:Contains("+b+")").parent().slideDown()):a(c).find("li").slideDown(),!1}).keyup(function(){a(this).change()})}jQuery.expr[":"].Contains=function(a,b,c){return(a.textContent||a.innerText||"").toUpperCase().indexOf(c[3].toUpperCase())>=0},a(function(){b(a(".search .search-box input"),a(".search .list"))})}(jQuery);